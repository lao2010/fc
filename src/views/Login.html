<!-- 登录表单结构 -->
<form id="loginForm">
    <div class="form-group">
        <input type="text" id="username" placeholder="用户名" required>
    </div>
    <div class="form-group">
        <input type="password" id="password" placeholder="密码" required>
    </div>
    <button type="submit">登录</button>
    <div id="errorMsg" class="error-message"></div>
</form>

<script>
document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const errorDiv = document.getElementById('errorMsg');
    
    try {
        const response = await window.userService.login({
            username: document.getElementById('username').value,
            password: document.getElementById('password').value
        });

        if (response.code === 200) {
            window.location.href = '/dashboard';
        } else {
            errorDiv.textContent = response.message || '登录失败，请检查凭证';
        }
    } catch (error) {
        errorDiv.textContent = '网络请求异常，请稍后重试';
    }
});
</script>