<!-- 注册表单结构 -->
<form id="registerForm">
    <!-- ...表单字段保持与原来一致... -->
    <button type="submit">注册</button>
    <div id="statusMsg" class="status-message"></div>
</form>

<script>
document.getElementById('registerForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const statusDiv = document.getElementById('statusMsg');
    
    try {
        const formData = {
            // 收集表单字段...
        };
        
        const response = await window.userService.register(formData);
        
        if (response.code === 200) {
            statusDiv.textContent = '注册成功！3秒后自动跳转';
            setTimeout(() => {
                window.location.href = '/login';
            }, 3000);
        } else {
            statusDiv.textContent = response.message || '注册未完成';
        }
    } catch (error) {
        statusDiv.textContent = '提交过程中发生错误';
    }
});
</script>